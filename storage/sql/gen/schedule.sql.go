// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.30.0
// source: schedule.sql

package sqlc

import (
	"context"

	"github.com/jackc/pgx/v5/pgtype"
)

const getStudentSchedule = `-- name: GetStudentSchedule :many
SELECT id, subject_id, group_id, room_id, teacher_id, the_time
  FROM schedule
  WHERE group_id = (
    SELECT group_id
    FROM student
    WHERE student.id = $1
  )
`

type GetStudentScheduleRow struct {
	ID        int32
	SubjectID pgtype.Text
	GroupID   pgtype.Text
	RoomID    pgtype.Text
	TeacherID pgtype.Text
	TheTime   pgtype.Timestamp
}

func (q *Queries) GetStudentSchedule(ctx context.Context, id string) ([]GetStudentScheduleRow, error) {
	rows, err := q.db.Query(ctx, getStudentSchedule, id)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []GetStudentScheduleRow
	for rows.Next() {
		var i GetStudentScheduleRow
		if err := rows.Scan(
			&i.ID,
			&i.SubjectID,
			&i.GroupID,
			&i.RoomID,
			&i.TeacherID,
			&i.TheTime,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const getTeacherSchedule = `-- name: GetTeacherSchedule :many
SELECT id, subject_id, group_id, room_id, teacher_id, the_time
  FROM schedule
  WHERE teacher_id = $1
`

type GetTeacherScheduleRow struct {
	ID        int32
	SubjectID pgtype.Text
	GroupID   pgtype.Text
	RoomID    pgtype.Text
	TeacherID pgtype.Text
	TheTime   pgtype.Timestamp
}

func (q *Queries) GetTeacherSchedule(ctx context.Context, teacherID pgtype.Text) ([]GetTeacherScheduleRow, error) {
	rows, err := q.db.Query(ctx, getTeacherSchedule, teacherID)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []GetTeacherScheduleRow
	for rows.Next() {
		var i GetTeacherScheduleRow
		if err := rows.Scan(
			&i.ID,
			&i.SubjectID,
			&i.GroupID,
			&i.RoomID,
			&i.TeacherID,
			&i.TheTime,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}
